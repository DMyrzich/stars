(this["webpackJsonpstar-war"]=this["webpackJsonpstar-war"]||[]).push([[0],{145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},455:function(e,t,n){},456:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(27),s=n.n(a),i=(n(145),n(63)),o=(n(146),n(15)),l=n(16),u=n(26),j=n(25),d=(n(147),n(458)),h=(n(148),n(1)),p=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"spiner-body",children:Object(h.jsx)(d.a,{size:104,color:"#40E0D0"})})}}]),n}(c.a.Component),b=(n(153),n.p+"static/media/star_PNG41482.bba83b56.png"),O=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={err:!1},e}return Object(l.a)(n,[{key:"componentDidCatch",value:function(){this.setState({err:!0})}},{key:"render",value:function(){return this.state.err?Object(h.jsxs)("div",{className:"textError",children:[Object(h.jsx)("img",{src:b}),Object(h.jsx)("h2",{className:"textErrorH",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u043b\u0430\u043d\u0435\u0442\u044b"}),Object(h.jsx)("p",{children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u0437\u0436\u0435"})]}):this.props.children}}]),n}(c.a.Component),m=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={planet:{},loading:!0},e.st=function(t){e.setState({planet:t,loading:!1})},e.my_catch=function(){e.setState({loading:!1})},e.undete=function(){var t=Math.floor(15*Math.random(1));e.props.getPlanetsId(t).then(e.st).catch(e.my_catch)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.undete(),this.interval=setInterval(this.undete,55e3)}},{key:"componentWillUnmount",value:function(){setInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.planet,n=t.img,r=t.name,c=t.created,a=t.diameter,s=e.loading;return Object(h.jsx)("div",{className:"info",children:Object(h.jsx)(O,{children:s?Object(h.jsx)(p,{}):Object(h.jsxs)("div",{className:"info-conainer",children:[Object(h.jsx)("div",{className:"info-grid-img",children:Object(h.jsx)("img",{className:"info-grid-image",src:n})}),Object(h.jsxs)("div",{className:"info-grid-text",children:[Object(h.jsxs)("p",{children:["\u0418\u043c\u044f \u043f\u043b\u0430\u043d\u0435\u0442\u044b : ",r]}),Object(h.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f: ",c]}),Object(h.jsxs)("p",{children:["\u0414\u0438\u0430\u043c\u0435\u0442\u0440: ",a]})]})]})})})}}]),n}(c.a.Component),f=(n(154),n(12)),x=function(){return Object(h.jsx)("div",{className:"header",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(f.b,{className:"header-name",to:"/",children:"Star My DB"})}),Object(h.jsx)("li",{children:Object(h.jsx)(f.b,{to:"/people/",children:"\u041b\u044e\u0434\u0438"})}),Object(h.jsx)("li",{children:Object(h.jsx)(f.b,{to:"/planet/",children:"\u041f\u043b\u0430\u043d\u0435\u0442\u044b"})}),Object(h.jsx)("li",{children:Object(h.jsx)(f.b,{to:"/starship/",children:"\u041a\u0430\u0440\u0430\u0431\u043b\u0438"})}),Object(h.jsx)("li",{children:Object(h.jsx)(f.b,{to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(h.jsx)("li",{children:Object(h.jsx)(f.b,{to:"/secret",children:"\u0421\u0435\u043a\u0440\u0435\u0442"})})]})})},v=n(4),g=n(44),y=function(e,t){return function(n){Object(u.a)(c,n);var r=Object(j.a)(c);function c(){var e;Object(o.a)(this,c);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).state={items:{},loading:!0,error:!1},e}return Object(l.a)(c,[{key:"componentDidMount",value:function(){var e=this;t(this.props.selectItems).then((function(t){e.setState({items:t,loading:!1})})).catch(this.my_catch)}},{key:"render",value:function(){return Object(h.jsx)(e,Object(g.a)(Object(g.a)({},this.props),this.state))}}]),c}(c.a.Component)},w=(n(157),Object(v.g)((function(e){var t=e.items,n=e.loading;return Object(h.jsx)("div",{className:"people",children:n?Object(h.jsx)(p,{}):Object(h.jsx)("div",{className:"list-group",children:Object(h.jsx)(O,{children:function(t){var n=e.selectItems,r=e.history,c=e.Api;return t.splice(6),t.map((function(e){var t=e.id,a=n==t?"list-group-item list-group-item-action active":"list-group-item list-group-item-action";return Object(h.jsx)("a",{onClick:function(){c(t),r.push(t)},className:a,children:e.name},t)}))}(t)})})})}))),k=n(8),N=n.n(k),_=n(33),I=function(){function e(){var t=this;Object(o.a)(this,e),this._url="https://swapi.dev/api",this.get=function(){var e=Object(_.a)(N.a.mark((function e(n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._url).concat(n));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438",r.status);case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getStarshipsAll=Object(_.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/starships/");case 2:return n=e.sent,e.abrupt("return",n.results.map(t._transFormShip));case 4:case"end":return e.stop()}}),e)}))),this.getStarshipsId=function(){var e=Object(_.a)(N.a.mark((function e(n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/starships/".concat(n,"/"));case 2:return r=e.sent,e.abrupt("return",t._transFormShip(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPlanetsAll=Object(_.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/planets/");case 2:return n=e.sent,e.abrupt("return",n.results.map(t._transFormPlanet));case 4:case"end":return e.stop()}}),e)}))),this.getPlanetsId=function(){var e=Object(_.a)(N.a.mark((function e(n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/planets/".concat(n,"/"));case 2:return r=e.sent,e.abrupt("return",t._transFormPlanet(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPeopleAll=Object(_.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/people/");case 2:return n=e.sent,e.abrupt("return",n.results.map(t._transFormPeople));case 4:case"end":return e.stop()}}),e)}))),this.getPeopleId=function(){var e=Object(_.a)(N.a.mark((function e(n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/people/".concat(n,"/"));case 2:return r=e.sent,e.abrupt("return",t._transFormPeople(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return Object(l.a)(e,[{key:"_transFormShip",value:function(e){var t=e.url.split("/")[5];return{id:t,name:e.name,created:e.created,length:e.length,img:"https://starwars-visualguide.com/assets/img/starships/".concat(t,".jpg")}}},{key:"_transFormPeople",value:function(e){var t=e.url.split("/")[5];return{id:t,name:e.name,gender:e.gender,birth_year:e.birth_year,hair_color:e.hair_color,img:"https://starwars-visualguide.com/assets/img/characters/".concat(t,".jpg")}}},{key:"_transFormPlanet",value:function(e){var t=e.url.split("/")[5];return{id:t,name:e.name,img:"https://starwars-visualguide.com/assets/img/planets/".concat(t,".jpg"),created:e.created,diameter:e.diameter}}}]),e}(),P=new I,S=P.getStarshipsAll,A=P.getPlanetsAll,C=y(w,P.getPeopleAll),F=y(w,A),D=y(w,S),M=function(e,t){return function(n){Object(u.a)(c,n);var r=Object(j.a)(c);function c(){var e;Object(o.a)(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=r.call.apply(r,[this].concat(a))).state={items:{},loading:!0,error:!1},e.updata=function(){t(e.props.selectItems).then((function(t){e.setState({items:t,loading:!1})})).catch(e.my_catch)},e}return Object(l.a)(c,[{key:"componentDidMount",value:function(){var e=this,n=this.props.selectItems;t(n).then((function(t){e.setState({items:t,loading:!1})})).catch(this.my_catch)}},{key:"componentDidUpdate",value:function(e){this.props.selectItems!==e.selectItems&&(this.setState({loading:!0}),this.updata())}},{key:"render",value:function(){return Object(h.jsx)(e,Object(g.a)(Object(g.a)({},this.props),this.state))}}]),c}(c.a.Component)},E=(n(158),function(e){var t=e.items,n=e.label,r=e.value;return Object(h.jsxs)("p",{className:"card-text-dec",children:[n," ",t[r]]})}),L=function(e){var t=e.items,n=e.loading,r=e.error;return Object(h.jsx)("div",{className:"mon",children:r?Object(h.jsx)(O,{}):n?Object(h.jsx)(p,{}):Object(h.jsxs)("div",{className:"card text-white bg-primary mb-3",children:[Object(h.jsx)("div",{className:"card-header",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("img",{src:t.img}),Object(h.jsx)("div",{children:c.a.Children.map(e.children,(function(e){return c.a.cloneElement(e,{items:t})}))})]})]})})},B=new I,J=B.getPeopleId,U=B.getPlanetsId,z=B.getStarshipsId,G=M(L,J),H=M(L,U),W=M(L,z),q=Object(v.g)((function(e){var t=e.create,n=e.detalis,c=e.match.params.id,a=Object(r.useState)(c||2),s=Object(i.a)(a,2),o=s[0],l=s[1];return Object(h.jsxs)("div",{className:"Del",children:[Object(h.jsx)(t,{Api:l,selectItems:o}),Object(h.jsxs)(n,{selectItems:o,children:[Object(h.jsx)(E,{label:"\u0418\u043c\u044f:",value:"name"}),Object(h.jsx)(E,{label:"\u0413\u043e\u0434:",value:"created"})]})]})})),K=(n(159),function(e){var t=e.btnlogin;return e.isLogin?Object(h.jsx)(v.a,{to:"/secret"}):Object(h.jsxs)("div",{className:"login-content",children:[Object(h.jsx)("p",{children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0432\u043e\u0439\u0442\u0438, \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"}),Object(h.jsx)("button",{onClick:t,children:"\u0412\u043e\u0439\u0442\u0438"})]})}),Q=(n(160),n(455),Object(v.g)((function(e){var t=e.isLogin,n=e.history;return t?Object(h.jsxs)("div",{className:"secret-content",children:[Object(h.jsx)("p",{children:"\u0412\u0430\u0448 \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442"}),Object(h.jsx)("button",{children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"})]}):Object(h.jsxs)("div",{className:"secret-content",children:[Object(h.jsx)("p",{children:"\u0427\u0442\u043e\u0431\u044b \u0441\u043a\u0430\u0447\u0430\u0442\u044c, \u043d\u0443\u0436\u043d\u043e \u0432\u043e\u0439\u0442\u0438!!!"}),Object(h.jsx)("button",{onClick:function(){return n.push("/login")},children:"\u0412\u043e\u0439\u0442\u0438 \u0441\u0435\u0439\u0447\u0430\u0441!"})]})}))),R=function(e){var t=e.history;return Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"\u0423\u0432\u044b, \u043d\u043e \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435\u0442!"}),Object(h.jsx)("button",{onClick:function(){t.push("/")},children:"\u041d\u0430\u0437\u0430\u0434"})]})},T=function(e){var t=Object(r.useState)(!1),n=Object(i.a)(t,2),c=n[0],a=n[1];return console.log(e),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)(f.a,{children:[Object(h.jsx)(x,{}),Object(h.jsx)(m,{getPlanetsId:(new I).getPlanetsId}),Object(h.jsxs)(v.d,{children:[Object(h.jsx)(v.b,{path:"/",exact:!0,render:function(){return Object(h.jsx)("div",{children:"\u041f\u0440\u0438\u0432\u0435\u0442, \u0440\u0430\u0434 \u043f\u0440\u0438\u0432\u0435\u0441\u0442\u043e\u0432\u0430\u0442\u044c \u0412\u0430\u0441 \u043d\u0430 \u043c\u043e\u0435\u043c \u0441\u0430\u0439\u0442\u0435!"})}}),Object(h.jsx)(v.b,{path:"/people/:id?",render:function(){return Object(h.jsx)(q,{create:C,detalis:G})}}),Object(h.jsx)(v.b,{path:"/planet/:id?",render:function(){return Object(h.jsx)(q,{create:F,detalis:H})}}),Object(h.jsx)(v.b,{path:"/starship/:id?",render:function(){return Object(h.jsx)(q,{create:D,detalis:W})}}),Object(h.jsx)(v.b,{path:"/login",render:function(){return Object(h.jsx)(K,{isLogin:c,btnlogin:a})}}),Object(h.jsx)(v.b,{path:"/secret",render:function(){return Object(h.jsx)(Q,{isLogin:c})}}),Object(h.jsx)(v.b,{component:R})]})]}),Object(h.jsx)("footer",{children:"\u041f\u043e\u0434\u0432\u0430\u043b \u0432\u0430\u0448!"})]})};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(T,{})}),document.getElementById("root"))}},[[456,1,2]]]);
//# sourceMappingURL=main.50d7199a.chunk.js.map